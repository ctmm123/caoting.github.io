# 网页端部署指南

## 📋 前置要求

1. **安装 Node.js**
   - 访问 [Node.js 官网](https://nodejs.org/)
   - 下载并安装 LTS 版本（推荐 18.x 或更高版本）
   - 安装完成后，在命令行中验证：
     ```bash
     node --version
     npm --version
     ```

## 🚀 构建步骤

### 1. 安装依赖
```bash
npm install
```

### 2. 配置环境变量
- 复制 `.env.local.example` 为 `.env.local`
- 在 `.env.local` 中设置你的 Gemini API Key：
  ```
  GEMINI_API_KEY=你的API密钥
  ```

### 3. 构建生产版本
```bash
npm run build
```

构建完成后，会在项目根目录生成 `dist` 文件夹，这就是你的网页端文件。

## 📦 部署方式

### 方式一：本地预览
```bash
npm run preview
```
然后访问 http://localhost:4173

### 方式二：部署到静态网站托管服务

#### Vercel（推荐）
1. 访问 [vercel.com](https://vercel.com)
2. 导入你的 GitHub 仓库
3. 设置环境变量 `GEMINI_API_KEY`
4. 点击部署，自动完成

#### Netlify
1. 访问 [netlify.com](https://netlify.com)
2. 拖拽 `dist` 文件夹到网站
3. 或连接 GitHub 仓库自动部署

#### GitHub Pages
1. 在 `vite.config.ts` 中添加 base 路径：
   ```typescript
   export default defineConfig({
     base: '/你的仓库名/',
     // ... 其他配置
   })
   ```
2. 构建后将 `dist` 文件夹内容推送到 `gh-pages` 分支

#### 阿里云 OSS / 腾讯云 COS
1. 构建项目生成 `dist` 文件夹
2. 将 `dist` 文件夹中的所有文件上传到 OSS/COS
3. 配置静态网站托管
4. 设置 index.html 为默认首页

### 方式三：传统服务器部署
1. 将 `dist` 文件夹上传到服务器
2. 配置 Nginx 或 Apache：

**Nginx 配置示例：**
```nginx
server {
    listen 80;
    server_name 你的域名.com;
    root /path/to/dist;
    index index.html;

    location / {
        try_files $uri $uri/ /index.html;
    }
}
```

**Apache 配置示例（.htaccess）：**
```apache
<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /
  RewriteRule ^index\.html$ - [L]
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule . /index.html [L]
</IfModule>
```

## 📁 dist 文件夹结构

构建后的 `dist` 文件夹包含：
```
dist/
├── index.html          # 主页面
├── assets/            # 静态资源
│   ├── index-[hash].js    # 打包后的 JavaScript
│   ├── index-[hash].css   # 打包后的 CSS
│   └── ...
└── ...
```

## ⚠️ 注意事项

1. **API Key 安全**：不要将 API Key 直接写入代码，使用环境变量
2. **CORS 问题**：如果遇到跨域问题，需要在服务器端配置 CORS
3. **路由配置**：单页应用需要配置服务器将所有路由指向 index.html
4. **环境变量**：部署到云平台时，记得在平台设置中配置 `GEMINI_API_KEY`

## 🔧 常见问题

**Q: 构建后页面空白？**
A: 检查浏览器控制台错误，通常是路径配置问题或 API Key 未设置

**Q: API 调用失败？**
A: 确认 GEMINI_API_KEY 已正确配置且有效

**Q: 部署后样式丢失？**
A: 检查 vite.config.ts 中的 base 路径配置是否正确

## 📞 需要帮助？

如果遇到问题，请检查：
1. Node.js 版本是否符合要求
2. 依赖是否完整安装
3. 环境变量是否正确配置
4. 构建日志中的错误信息
